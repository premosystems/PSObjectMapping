{"name":"PSObjectMapping","tagline":"","body":"# PSObjectMapping\r\n\r\n\r\n## Overview\r\n\r\nPSObjectMapping maps NSDictionary and NSArray collections to CoreData NSManagedObjects.\r\n\r\nThe solution consists of a category on NSManagedObject and a protocol describing a PSMappableObject.\r\n\r\nThe development of PSObjectMapping came out of a personal need, and although it is being used in production, it is still very much a work in progress.\r\n\r\n## Example Setup\r\n\r\nTo use PSObjectMapping, add the files in the PSObjectMapping directory, or install using [CocoaPods](http://cocoapods.org/).\r\n\r\nTo support object mapping, you must tell PSObjectMapping which property on your XCDataModel is the object's primary key. An example is depicted in the screenshot below:\r\n\r\n![XCode Data Model Primary Key Setup](https://raw.github.com/premosystems/PSObjectMapping/gh-pages/xcdatamodel-primary-key-screenshot.png)\r\n\r\nFor PSObjectMapping to know how to map data from an NSDictionary to NSManagedObject attributes, create a category on each NSManagedObject subclass with methods similar to the following.\r\n\r\n```objective-c\r\n@implementation GHCommit (PSObjectMapping)\r\n\r\n+ (NSDictionary*) propertyMappings\r\n{\r\n    return @{\r\n             @\"sha\":@\"sha\",\r\n             @\"url\":@\"url\"\r\n             };\r\n}\r\n\r\n+ (NSDictionary*) relationshipMappings\r\n{\r\n    return @{\r\n             @\"author\":@\"author\",\r\n             @\"files\":@\"files\"\r\n             };\r\n}\r\n\r\n@end\r\n```\r\n\r\n## Example Usage\r\n\r\nTo use PSObjectMapping there exists a class method applied to all PSMappableObjects:\r\n\r\n```objective-c\r\n+ (NSArray*) mapWithCollection:(id)arrayOrDictionary rootObjectKey:(NSString*)rootObjectKey customObjectMappingBlock:(void (^)(NSDictionary *keyedValues, id object))customObjectMappingBlock mapRelationships:(BOOL)mapRelationships;\r\n```\r\n\r\nPass the NSArray or NSDictionary containing keyed values to this method, and an array of NSManagedObjectIDs is returned for the objects that were mapped.\r\n\r\n```objective-c\r\nNSArray *objectIDs = [GHCommit mapWithCollection:responseObject rootObjectKey:nil customObjectMappingBlock:nil mapRelationships:YES];\r\n```\r\n\r\nWhere responseObject is an NSArray of dictionaries. If the collection is a dictionary with an array inside one of its keys, just tell PSObjectMapping what the rootObjectKey is and it will automatically extract it.\r\n\r\nSee the including example project for complete details.\r\n\r\n## TODO / Known Issues\r\n\r\n* Alter property mapping logic to accept key paths to describe which data point to map in the hierarchy.\r\n* Documentation, unit tests\r\n\r\n## Contact\r\n\r\nFor questions or issues with PSObjectMapping please contact [premosystems](https://github.com/premosystems)\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}